<form [formGroup]="formEmpresa" (ngSubmit)="cadastrar()" class="form-container">
  <h2 class="form-title">{{ formEmpresa.value.nome ? 'Editar Empresa' : 'Cadastrar Empresa'}}</h2>

  <div class="form-row">
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Nome da Empresa</mat-label>
      <input
        matInput
        formControlName="nome"
        placeholder="Digite o nome da empresa"
      />
      <mat-error *ngIf="formEmpresa.get('nome')?.hasError('required')">
        Nome é obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="form-field">
      <mat-label>CNPJ</mat-label>
      <input
        matInput
        formControlName="cnpj"
        placeholder="00.000.000/0000-00"
        mask="00.000.000/0000-00"
      />
      <mat-error *ngIf="formEmpresa.get('cnpj')?.hasError('required')">
        CNPJ é obrigatório
      </mat-error>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Telefone</mat-label>
      <input
        matInput
        formControlName="telefone"
        placeholder="Digite o telefone"
        mask="(00) 00000-0000"
      />
      <mat-error *ngIf="formEmpresa.get('telefone')?.hasError('required')">
        Telefone é obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" placeholder="Digite o email" />
      <mat-error *ngIf="formEmpresa.get('email')?.hasError('required')">
        Email é obrigatório
      </mat-error>
      <mat-error *ngIf="formEmpresa.get('email')?.hasError('email')">
        Email inválido
      </mat-error>
    </mat-form-field>
  </div>

  <div class="form-row">
    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Endereço</mat-label>
      <input
        matInput
        formControlName="endereco"
        placeholder="Digite o endereço"
      />
      <mat-error *ngIf="formEmpresa.get('endereco')?.hasError('required')">
        Endereço é obrigatório
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill" class="form-field">
      <mat-label>Status</mat-label>
      <mat-select formControlName="status">
        <mat-option value="ativo">Ativo</mat-option>
        <mat-option value="inativo">Inativo</mat-option>
      </mat-select>
      <mat-error *ngIf="formEmpresa.get('status')?.hasError('required')">
        Status é obrigatório
      </mat-error>
    </mat-form-field>
  </div>

  <div class="button-container">
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="formEmpresa.invalid"
      class="submit-button"
    >
      {{formEmpresa.value.nome ? 'Salvar' : 'Cadastrar'}} 
    </button>
  </div>
</form>
